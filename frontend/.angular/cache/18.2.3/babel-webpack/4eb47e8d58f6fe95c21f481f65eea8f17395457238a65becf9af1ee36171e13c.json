{"ast":null,"code":"import { UserService } from '../user.service';\nimport { Router } from '@angular/router';\nimport { UntypedFormGroup, UntypedFormControl, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../user.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction UserhomeComponent_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 3)(2, \"h2\", 19)(3, \"u\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\")(8, \"em\");\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"date\");\n    i0.ɵɵpipe(11, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"p\", 20);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"button\", 21);\n    i0.ɵɵelement(15, \"i\", 22);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const post_r1 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", post_r1.title, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Posted by \", post_r1.uname, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\", i0.ɵɵpipeBind2(10, 5, post_r1.creation_dt, \"shortTime\"), \", \", i0.ɵɵpipeBind2(11, 8, post_r1.creation_dt, \"mediumDate\"), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(post_r1.content);\n  }\n}\nfunction UserhomeComponent_div_31_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 24)(2, \"h4\", 25);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const post_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(post_r2.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Posted by \", post_r2.uname, \"\");\n  }\n}\nfunction UserhomeComponent_div_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, UserhomeComponent_div_31_div_1_Template, 6, 2, \"div\", 23);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r3 = ctx.index;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", i_r3 < 4);\n  }\n}\nexport let UserhomeComponent = /*#__PURE__*/(() => {\n  class UserhomeComponent {\n    constructor(_userService, _router) {\n      this._userService = _userService;\n      this._router = _router;\n      this.uname = '--not added--';\n      this.title = \"--not added--\";\n      this.content = \"--not added--\";\n      this.creation_dt = \"--not added--\";\n      this.postForm = new UntypedFormGroup({\n        uname: new UntypedFormControl(null, Validators.required),\n        title: new UntypedFormControl(null, Validators.required),\n        content: new UntypedFormControl(null, Validators.required)\n      });\n      this.username = '';\n      this._userService.user().subscribe(data => this.addName(data), error => this._router.navigate(['/login']));\n    }\n    addName(data) {\n      this.username = data.username;\n    }\n    ngOnInit() {\n      this.refreshPostList();\n    }\n    refreshPostList() {\n      this._userService.getPosts().subscribe(res => {\n        this._userService.posts = res;\n      });\n    }\n    createPost() {\n      if (!this.postForm.valid) {\n        this.invalid = \"Please enter data\";\n        return;\n      }\n      this._userService.post(JSON.stringify(this.postForm.value)).subscribe(data => {\n        console.log(data);\n        this.refreshPostList();\n        this.invalid = \"Post Updated Successfully\";\n      }, error => this.invalid = \"Please enter the Data!\");\n    }\n    static #_ = this.ɵfac = function UserhomeComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || UserhomeComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.Router));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: UserhomeComponent,\n      selectors: [[\"app-userhome\"]],\n      decls: 32,\n      vars: 6,\n      consts: [[1, \"row\"], [1, \"leftcolumn\"], [1, \"card\", \"cardBig\"], [1, \"card\", \"cardSmall\"], [2, \"margin-bottom\", \"25px\", \"text-align\", \"center\"], [\"role\", \"form\", 3, \"formGroup\"], [1, \"form-group\"], [1, \"col-md-2\", 2, \"display\", \"inline-block\"], [\"formControlName\", \"uname\", \"type\", \"text\", \"id\", \"uname\", 1, \"form-control\", \"col-md-3\", 2, \"display\", \"inline-block\"], [\"value\", \"Anonymus\", \"selected\", \"\"], [3, \"value\"], [\"formControlName\", \"title\", \"type\", \"text\", \"id\", \"title\", \"name\", \"title\", \"placeholder\", \"Title\", 1, \"form-control\", \"col-md-6\", 2, \"float\", \"right\", \"display\", \"inline-block\"], [\"formControlName\", \"content\", \"type\", \"textarea\", \"rows\", \"4\", \"id\", \"content\", \"name\", \"content\", \"placeholder\", \"Share your experience\", 1, \"form-control\"], [1, \"invalid\"], [1, \"btn\", \"btn-primary\", 2, \"width\", \"20%\", 3, \"click\"], [\"type\", \"reset\", \"value\", \"Clear\", 1, \"btn\", \"btn-warning\", 2, \"width\", \"20%\"], [4, \"ngFor\", \"ngForOf\"], [1, \"rightcolumn\"], [2, \"text-align\", \"center\"], [2, \"font-family\", \"'Ubuntu Mono', monospace\"], [2, \"font-family\", \"'Montserrat', sans-serif\", \"text-align\", \"justify\", \"text-justify\", \"inter-word\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", \"btn-circle\"], [1, \"fa\", \"fa-heart\"], [4, \"ngIf\"], [1, \"card\"], [2, \"font-family\", \"'Ubuntu Condensed', sans-serif\"]],\n      template: function UserhomeComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"h3\", 4);\n          i0.ɵɵtext(5, \" Create New Post\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"form\", 5)(7, \"div\", 6)(8, \"label\", 7);\n          i0.ɵɵtext(9, \" Post as: \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"select\", 8)(11, \"option\", 9);\n          i0.ɵɵtext(12, \"Anonymus\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"option\", 10);\n          i0.ɵɵtext(14);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(15, \"input\", 11);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"div\", 6);\n          i0.ɵɵelement(17, \"textarea\", 12);\n          i0.ɵɵelementStart(18, \"label\", 13);\n          i0.ɵɵtext(19);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(20, \"div\", 6)(21, \"button\", 14);\n          i0.ɵɵlistener(\"click\", function UserhomeComponent_Template_button_click_21_listener() {\n            return ctx.createPost();\n          });\n          i0.ɵɵtext(22, \"Post\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(23, \"button\", 15);\n          i0.ɵɵtext(24, \"Clear\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelement(25, \"hr\");\n          i0.ɵɵtemplate(26, UserhomeComponent_div_26_Template, 16, 11, \"div\", 16);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(27, \"div\", 17)(28, \"div\", 2)(29, \"h3\", 18);\n          i0.ɵɵtext(30, \"New Posts\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(31, UserhomeComponent_div_31_Template, 2, 1, \"div\", 16);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"formGroup\", ctx.postForm);\n          i0.ɵɵadvance(7);\n          i0.ɵɵpropertyInterpolate(\"value\", ctx.username);\n          i0.ɵɵadvance();\n          i0.ɵɵtextInterpolate(ctx.username);\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate1(\" \", ctx.invalid, \"\");\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"ngForOf\", ctx._userService.posts.slice().reverse());\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngForOf\", ctx._userService.posts.slice().reverse());\n        }\n      },\n      dependencies: [i3.NgForOf, i3.NgIf, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName, i3.DatePipe],\n      styles: [\".leftcolumn[_ngcontent-%COMP%]{width:75%}.cardBig[_ngcontent-%COMP%]{background-color:#ccc;opacity:.9}.cardSmall[_ngcontent-%COMP%]{z-index:100}.rightcolumn[_ngcontent-%COMP%]{float:left;width:25%;padding-left:20px}.card[_ngcontent-%COMP%]{padding:20px;margin-top:20px;border-radius:15px}@media screen and (max-width: 800px){.leftcolumn[_ngcontent-%COMP%], .rightcolumn[_ngcontent-%COMP%]{width:98%;padding:2}}textarea[_ngcontent-%COMP%]{height:50px}textarea[_ngcontent-%COMP%]:focus{height:100px}.invalid[_ngcontent-%COMP%]{color:#dc143c;font-family:cursive;font-size:12px}.btn-circle[_ngcontent-%COMP%]{width:30px;height:30px;padding:6px 0;border-radius:15px;text-align:center;font-size:12px;line-height:1.42857}\"]\n    });\n  }\n  return UserhomeComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}